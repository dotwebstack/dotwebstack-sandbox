graph config:TestTheatre {
 
  config:IP_ImageAppearance a elmo:InformationProduct;
    elmo:query '''
      prefix html: <http://www.w3.org/1999/xhtml/vocab#>
      prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>
      prefix elmo: <http://bp4mc2.org/elmo/def#>
      prefix testo: <http://localhost:8080/def/test#>
      construct {
        <urn:image> html:img "/images/planboard.png".
        <urn:image> html:width "3440.640".
        <urn:image> html:height "1720.320".
        <urn:image> html:top "0".
        <urn:image> html:left "0".
        ?item rdfs:label ?itemlabel.
        ?item geo:geometry ?previousgeox.
        ?current geo:geometry ?currentgeox.
        ?item testo:status ?current.
      }
      where {
        graph <@STAGE@> {
          ?item rdf:type testo:UserStory.
          ?item rdfs:label ?itemlabel.
          ?item testo:status ?current.
          ?current geo:geometry ?currentgeo.
          ?item testo:prevStatus ?previous.
          ?previous geo:geometry ?previousgeo.
        }
        OPTIONAL {
          graph <http://localhost:8080/container/simple> {
            ?current geo:geometry ?currentedit
          }
        }
        OPTIONAL {
          graph <http://localhost:8080/container/simple> {
            ?item geo:geometry ?previousedit
          }
        }
        BIND(if(bound(?currentedit),?currentedit,?currentgeo) as ?currentgeox)
        BIND(if(bound(?previousedit),?previousedit,?previousgeo) as ?previousgeox)
      }
    ''';
    .
}