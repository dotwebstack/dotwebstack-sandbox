graph config:TestTheatre {

  config:IP_GraphAppearance_content a elmo:InformationProduct;
  elmo:query '''
    prefix elmo: <http://bp4mc2.org/elmo/def#>
    construct {
      <${subject}> elmo:style ?subjecttype.
      <${subject}> rdfs:label ?subjectlabel.
      ?subjecttype elmo:name ?subjecttypelabel.

      <${subject}> ?torelation ?toperson.
      ?toperson rdfs:label ?topersonlabel.
      ?toperson elmo:style ?topersontype.
      ?topersontype elmo:name ?topersontypelabel.
      ?fromperson ?fromrelation <${subject}>.
      ?fromperson rdfs:label ?frompersonlabel.
      ?fromperson elmo:style ?frompersontype.
      ?frompersontype elmo:name ?frompersontypelabel.

      owl:Class elmo:name "Species".
    }
    where {
      {
        <${subject}> rdfs:label ?subjectlabel.
        <${subject}> rdf:type ?subjecttype.
        ?subjecttype rdfs:label ?subjecttypelabel.
      }
      UNION
      {
        <@SUBJECT@> ?torelation ?toperson.
        ?toperson rdfs:label ?topersonlabel.
        ?toperson rdf:type ?topersontype.
        ?topersontype rdfs:label ?topersontypelabel.
      }
      UNION
      {
        ?fromperson ?fromrelation <${subject}>.
        ?fromperson rdfs:label ?frompersonlabel.
        ?fromperson rdf:type ?frompersontype.
        ?frompersontype rdfs:label ?frompersontypelabel.
      }
    }
  ''';
  .
}