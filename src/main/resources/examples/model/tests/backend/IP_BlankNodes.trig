
graph stage:TestTheatre {
  stage:IP_BlankNodes_data a elmo:InformationProduct;
    
    elmo:query '''
      prefix testo: <http://localhost:8080/def/test#>
      
      construct {
        ?s rdfs:label ?label.
        ?s testo:largestCities ?list.
        ?head rdf:rest ?rest.
        ?head rdf:first ?city.
      }
      where {
        graph <@STAGE@> {
          ?s rdfs:label ?label.
          ?s testo:largestCities ?list.
          ?list rdf:rest* ?head.
          ?head rdf:rest ?rest.
          ?head rdf:first ?city.
          filter (?s = <http://dbpedia.org/resource/Utrecht_(province)>)
        }
      }
    ''';
  .

  stage:IP_BlankNodes_content a elmo:InformationProduct;
    
    elmo:query '''
      prefix testo: <http://localhost:8080/def/test#>
      
      construct {
        ?s rdfs:label ?label.
        ?s testo:largestCities ?city
      }
      where {
        ?s rdfs:label ?label.
        ?s testo:largestCities/rdf:rest*/rdf:first ?city
        filter (?s = <http://dbpedia.org/resource/Utrecht_(province)>)
      }
    ''';
  .
}