@prefix elmo: <http://dotwebstack.org/def/elmo#>.

@prefix:stage <http://localhost:8080/stage#>.

stage:dbpediaNLResource a elmo:InformationProduct;
  elmo:url-pattern "^http://dbpedia.org/";
  elmo:endpoint <http://dbpedia.org/sparql>;
  elmo:query '''
  CONSTRUCT {
    <@SUBJECT@> ?p ?o.
    ?o rdfs:label ?olabel.
    }
    WHERE {
    <@SUBJECT@> ?p ?o
      FILTER (isIri(?o) or lang(?o)= "" or lang(?o) = "@LANGUAGE@";)
    OPTIONAL {
	  ?o rdfs:label ?olabel.
	  FILTER (lang(?olabel) or lang(?olabel)="@LANGUAGE@")
	    }
      }
    '''
.


